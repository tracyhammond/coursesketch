<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: utilities/functions/base.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: utilities/functions/base.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>// jshint undef:false
// jshint latedef:false

/*
 * Ironically check to see if a function that checks to see if objects are
 * undefined is undefined
 */
if (typeof isUndefined === 'undefined') {
    function isUndefined(object) {
        return typeof object === 'undefined';
    }
}

/**
 * *************************************************************
 *
 * Sketch Function
 *
 * @author gigemjt
 *
 * *************************************************************
 */

// jshint bitwise:false
/**
 *
 * Generates an rfc4122 version 4 compliant solution.
 *
 * found at http://stackoverflow.com/a/2117523/2187510 and further improved at
 * http://stackoverflow.com/a/8809472/2187510
 */
if (isUndefined(generateUUID)) {
    function generateUUID() {
        var d = new Date().getTime();
        var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
            var r = (d + Math.random() * 16) % 16 | 0;
            d = Math.floor(d / 16);
            return (c === 'x' ? r : (r &amp; 0x7 | 0x8)).toString(16);
        });
        return uuid;
    }
}

// jshint bitwise:true
/**
 * Creates a number that represents the current time in milliseconds since jan
 * 1st 1970.
 */
if (isUndefined(createTimeStamp)) {
    // Creates a time stamp every time this method is called.
    function createTimeStamp() {
        return new Date().getTime();
    }
}

/**
 * *************************************************************
 *
 * onLoad utility Functions
 *
 * @author gigemjt
 *
 * *************************************************************
 */

/**
 * Creates a recursive set of functions that are all called onload
 *
 * The scope is the target for the onload
 */
if (isUndefined(addScopedLoadEvent)) {
    function addScopedLoadEvent(scope, func) {
        var oldonload = scope.onload;
        if (typeof scope.onload !== 'function') {
            scope.onload = func;
        } else {
            scope.onload = function() {
                if (oldonload) {
                    oldonload();
                }
                func();
            };
        }
    }
}
/**
 * *************************************************************
 *
 * Utility utility Functions
 *
 * @author gigemjt
 *
 * *************************************************************
 */

/**
 * Checks to see if the given object is a function.
 *
 * returns true if the object is a function.
 */
if (isUndefined(isFunction)) {
    function isFunction(object) {
        return typeof (object) === 'function';
    }
}

/**
 * *************************************************************
 *
 * Date Functions
 *
 * @author gigemjt
 *
 * *************************************************************
 */

/**
 * Given a number that could be 1 or 2 digits returns a 2 digit version of that number
 * ex: 1 -> 01, or 15 -> 15
 */
if (isUndefined(make2Digits)) {
    function make2Digits(num) {
        return ('0' + Number(num)).slice(-2);
    }
}

if (isUndefined(getMillitaryFormattedDateTime)) {
    function getMillitaryFormattedDateTime(dateTime) {
        var date = make2Digits(dateTime.getMonth() + 1) + '-' + make2Digits(dateTime.getDate()) + '-' + dateTime.getFullYear();
        var time = make2Digits(dateTime.getHours()) + ':' + make2Digits(dateTime.getMinutes());
        return date + ' ' + time;
    }
}

/**
 * @param dateTime {Date} uses the default Date object in the browser to return
 */
if (isUndefined(getFormattedDateTime)) {
    function getFormattedDateTime(dateTime) {
        var date = make2Digits(dateTime.getMonth() + 1) + '-' + make2Digits(dateTime.getDate()) + '-' + dateTime.getFullYear();
        var hours = dateTime.getHours();
        var timeType = 'AM';
        if (dateTime.getHours() > 12) {
            hours -= 12;
        }
        if (dateTime.getHours() >= 12) {
            timeType = 'PM';
        }
        if (dateTime.getHours() === 0) {
            hours = 12;
        }
        var time = make2Digits(hours) + ':' + make2Digits(dateTime.getMinutes()) + timeType;
        return date + ' ' + time;
    }
}

if (isUndefined(BaseException)) {
    /**
     * @class BaseException
     * Defines the base exception class that can be extended by all other exceptions.
     */
    var BaseException = {
        name:           'BaseException',
        /**
         * The level defines how bad it is. level 5 is the okayest exception
         * (with 6+ typically being ignored completely) and level 0 is the worst
         * exception (with &lt;0 being treated as 0).
         */
        level:          5,
        message:        'BaseException Thrown.\n Please subclass this to create a better exception.',
        htmlMessage:    'BaseException Thrown&lt;br> Please subclass this to create a better exception.',
        toString: function() {
            return this.name + ': ' + this.message + (this.specificMessage ? '\n' + this.specificMessage : '');
        },
        setMessage: function(messageValue) {
            this.specificMessage = messageValue;
        }
    };
}

if (isUndefined(getTypeName)) {
    function getTypeName(value) {
        if (value === null) {
            return 'null';
        }
        var t = typeof value;
        switch (t) {
            case 'function':
                /* falls through */
            case 'object':
                if (value.constructor) {
                    if (value.constructor.name) {
                        return value.constructor.name;
                    }
                    // Internet Explorer
                    // Anonymous functions are stringified as follows:
                    // 'function () {}'
                    // => the regex below does not match
                    var match = value.constructor.toString().match(/^function (.+)\(.*$/);
                    if (match) {
                        return match[1];
                    }
                }
                // fallback, for nameless constructors etc.
                return Object.prototype.toString.call(value).match(/^\[object (.+)\]$/)[1];

            default:
                return t;
        }
    }
}

if (isUndefined(loadJs)) {
    function loadJs(src) {
        var head = document.getElementsByTagName('head')[0];
        var script = document.createElement('script');
        script.type = 'text/javascript';
        script.src = src;
        head.appendChild(script);
    }
}

/**
 * Allows the script to continue if it is only being run once otherwise it will throw an exception (that it hides)
 * And prevents further execution of the script.
 */
if (isUndefined(validateFirstRun)) {
    function validateFirstRun(scriptObject) {
        // no var on purpose.
        try {
            scriptBay = scriptBay || {};
        } catch (exception) {
            scriptBay = {};
        }
        if (!isUndefined(scriptBay[scriptObject.src])) {
            var errorEvent = { src: scriptObject.src };
            var listener = function(event) {
                if (typeof event.error === 'object' &amp;&amp; !isUndefined(event.error.src) &amp;&amp; event.error.src === scriptObject.src) {
                    event.preventDefault();event.stopPropagation();
                    window.removeEventListener('error', listener, true);
                }
            };
            window.addEventListener('error', listener, true);
            throw errorEvent;
        }
        scriptBay[scriptObject.src] = {};
    }
}


/**
 * Allows the script to continue if it is only being run once otherwise it will throw an exception (that it hides)
 * And prevents further execution of the script.
 */
if (isUndefined(validateFirstGlobalRun)) {
    function validateFirstGlobalRun(scriptObject) {
        // no var on purpose.
        try {
            CourseSketch.scriptBay = CourseSketch.scriptBay || {};
        } catch (exception) {
            CourseSketch.scriptBay = {};
        }
        if (!isUndefined(CourseSketch.scriptBay[scriptObject.src])) {
            var errorEvent = { src: scriptObject.src };
            var listener = function(event) {
                if (typeof event.error === 'object' &amp;&amp; !isUndefined(event.error.src) &amp;&amp; event.error.src === scriptObject.src) {
                    event.preventDefault();event.stopPropagation();
                    window.removeEventListener('error', listener, true);
                }
            };
            window.addEventListener('error', listener, true);
            throw errorEvent;
        }
        CourseSketch.scriptBay[scriptObject.src] = {};
        validateFirstRun(scriptObject); // look locally too!
    }
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="BaseException.html">BaseException</a></li><li><a href="CommandException.html">CommandException</a></li><li><a href="DatabaseException.html">DatabaseException</a></li><li><a href="Graphics.html">Graphics</a></li><li><a href="LoginSystem.html">LoginSystem</a></li><li><a href="NavigationPanel.html">NavigationPanel</a></li><li><a href="ProblemNavigator.html">ProblemNavigator</a></li><li><a href="ProtobufSetup.html">ProtobufSetup</a></li><li><a href="ProtoDatabase.html">ProtoDatabase</a></li><li><a href="Redirector.html">Redirector</a></li><li><a href="RegisterSystem.html">RegisterSystem</a></li><li><a href="SchoolDataManager.html">SchoolDataManager</a></li><li><a href="SchoolItem.html">SchoolItem</a></li><li><a href="SketchSurface.html">SketchSurface</a></li><li><a href="UndoRedoException.html">UndoRedoException</a></li><li><a href="UpdateException.html">UpdateException</a></li><li><a href="UpdateManager.html">UpdateManager</a></li></ul><h3>Global</h3><ul><li><a href="global.html#addAnswer">addAnswer</a></li><li><a href="global.html#addAnswerContent">addAnswerContent</a></li><li><a href="global.html#addCallback">addCallback</a></li><li><a href="global.html#addClickFunction">addClickFunction</a></li><li><a href="global.html#addEventMapping">addEventMapping</a></li><li><a href="global.html#addSynchronousUpdate">addSynchronousUpdate</a></li><li><a href="global.html#addToolArea">addToolArea</a></li><li><a href="global.html#addUpdate">addUpdate</a></li><li><a href="global.html#AdvanceDataListener">AdvanceDataListener</a></li><li><a href="global.html#ArrayException">ArrayException</a></li><li><a href="global.html#assignValues">assignValues</a></li><li><a href="global.html#build">build</a></li><li><a href="global.html#buildExpandEvent">buildExpandEvent</a></li><li><a href="global.html#buildOverlay">buildOverlay</a></li><li><a href="global.html#buildPercent">buildPercent</a></li><li><a href="global.html#buildWaitIcon">buildWaitIcon</a></li><li><a href="global.html#CallbackBarrier">CallbackBarrier</a></li><li><a href="global.html#checkOverflow">checkOverflow</a></li><li><a href="global.html#clearCallbacks">clearCallbacks</a></li><li><a href="global.html#clearUpdates">clearUpdates</a></li><li><a href="global.html#close">close</a></li><li><a href="global.html#Connection">Connection</a></li><li><a href="global.html#continueButton">continueButton</a></li><li><a href="global.html#correctSize">correctSize</a></li><li><a href="global.html#CourseSketch">CourseSketch</a></li><li><a href="global.html#createBarrier">createBarrier</a></li><li><a href="global.html#createButton">createButton</a></li><li><a href="global.html#createFancySchoolItem">createFancySchoolItem</a></li><li><a href="global.html#createMarker">createMarker</a></li><li><a href="global.html#createNewPath">createNewPath</a></li><li><a href="global.html#createSchoolList">createSchoolList</a></li><li><a href="global.html#createSketch">createSketch</a></li><li><a href="global.html#createTable">createTable</a></li><li><a href="global.html#deleteSketch">deleteSketch</a></li><li><a href="global.html#detachedCallback">detachedCallback</a></li><li><a href="global.html#EmbeddedHtml">EmbeddedHtml</a></li><li><a href="global.html#emptyQueue">emptyQueue</a></li><li><a href="global.html#endPath">endPath</a></li><li><a href="global.html#executeEvent">executeEvent</a></li><li><a href="global.html#fillCanvas">fillCanvas</a></li><li><a href="global.html#finalize">finalize</a></li><li><a href="global.html#getCleanUpdateList">getCleanUpdateList</a></li><li><a href="global.html#getConnection">getConnection</a></li><li><a href="global.html#getCurrentAssignment">getCurrentAssignment</a></li><li><a href="global.html#getCurrentNumber">getCurrentNumber</a></li><li><a href="global.html#getCurrentProblemId">getCurrentProblemId</a></li><li><a href="global.html#getCurrentSketch">getCurrentSketch</a></li><li><a href="global.html#getCurrentTime">getCurrentTime</a></li><li><a href="global.html#getCurrentUpdate">getCurrentUpdate</a></li><li><a href="global.html#getFinishedCallback">getFinishedCallback</a></li><li><a href="global.html#getHostElement">getHostElement</a></li><li><a href="global.html#getLength">getLength</a></li><li><a href="global.html#getListLength">getListLength</a></li><li><a href="global.html#getPaper">getPaper</a></li><li><a href="global.html#getProblemText">getProblemText</a></li><li><a href="global.html#getProblemType">getProblemType</a></li><li><a href="global.html#getSketch">getSketch</a></li><li><a href="global.html#getSupportedEnums">getSupportedEnums</a></li><li><a href="global.html#getSupportedObjects">getSupportedObjects</a></li><li><a href="global.html#getUpdateList">getUpdateList</a></li><li><a href="global.html#GivenanSrlUpdateaRequestiscreated.">Given an SrlUpdate a Request is created.</a></li><li><a href="global.html#gotoNext">gotoNext</a></li><li><a href="global.html#goToNextSlide">goToNextSlide</a></li><li><a href="global.html#gotoPrevious">gotoPrevious</a></li><li><a href="global.html#goToProblem">goToProblem</a></li><li><a href="global.html#hasNext">hasNext</a></li><li><a href="global.html#hasPrevious">hasPrevious</a></li><li><a href="global.html#HighlightText">HighlightText</a></li><li><a href="global.html#ImageBox">ImageBox</a></li><li><a href="global.html#IndexManager">IndexManager</a></li><li><a href="global.html#Inheritssetsupinheritanceforfunctionsthis.Inherits(SuperClass);//supercallinsideobjectANDSubClass.Inherits(SuperClass);">Inherits
sets up inheritance for functions

this.Inherits(SuperClass); // super call inside object AND
SubClass.Inherits(SuperClass);</a></li><li><a href="global.html#initializeCanvas">initializeCanvas</a></li><li><a href="global.html#initializeElement">initializeElement</a></li><li><a href="global.html#InputListener">InputListener</a></li><li><a href="global.html#isConnected">isConnected</a></li><li><a href="global.html#isDataLoaded">isDataLoaded</a></li><li><a href="global.html#isDescriptionOverflow">isDescriptionOverflow</a></li><li><a href="global.html#isLastUpdateSave">isLastUpdateSave</a></li><li><a href="global.html#isLastUpdateSubmission">isLastUpdateSubmission</a></li><li><a href="global.html#isValidForSaving">isValidForSaving</a></li><li><a href="global.html#isValidForSubmission">isValidForSubmission</a></li><li><a href="global.html#loadData">loadData</a></li><li><a href="global.html#loadLectures">loadLectures</a></li><li><a href="global.html#loadSketch">loadSketch</a></li><li><a href="global.html#loadSlides">loadSlides</a></li><li><a href="global.html#MultiChoice">MultiChoice</a></li><li><a href="global.html#Playback">Playback</a></li><li><a href="global.html#ProblemToolBar">ProblemToolBar</a></li><li><a href="global.html#Question">Question</a></li><li><a href="global.html#reconnect">reconnect</a></li><li><a href="global.html#redoAction">redoAction</a></li><li><a href="global.html#refresh">refresh</a></li><li><a href="global.html#reloadAssignment">reloadAssignment</a></li><li><a href="global.html#reloadProblems">reloadProblems</a></li><li><a href="global.html#removeAnswer">removeAnswer</a></li><li><a href="global.html#removeCallback">removeCallback</a></li><li><a href="global.html#removeEventMapping">removeEventMapping</a></li><li><a href="global.html#removeItem">removeItem</a></li><li><a href="global.html#removeListener">removeListener</a></li><li><a href="global.html#resetValues">resetValues</a></li><li><a href="global.html">runCommand
Runs a specific command given its lastUpdateType.</a></li><li><a href="global.html#saveData">saveData</a></li><li><a href="global.html#SchoolItemBuilder">SchoolItemBuilder</a></li><li><a href="global.html#sendlocalScope">sendlocalScope</a></li><li><a href="global.html#sendRequest">sendRequest</a></li><li><a href="global.html#setAssignmentId">setAssignmentId</a></li><li><a href="global.html#setBoxState">setBoxState</a></li><li><a href="global.html#setCancelCallbackThecallbackiscalledwhentheregisterbuttonispressed.">setCancelCallback
The callback is called when the register button is pressed.</a></li><li><a href="global.html#setCorrectAnswer">setCorrectAnswer</a></li><li><a href="global.html#setCurrentSketch">setCurrentSketch</a></li><li><a href="global.html#setDrawUpdate">setDrawUpdate</a></li><li><a href="global.html#setEditCallback">setEditCallback</a></li><li><a href="global.html#setLastSaveTime">setLastSaveTime</a></li><li><a href="global.html#setListener">setListener</a></li><li><a href="global.html#setListeners">setListeners</a></li><li><a href="global.html#setOnSuccessLoginThecallbackiscalledwithoneparameter.">setOnSuccessLogin
The callback is called with one parameter.</a></li><li><a href="global.html#setParentSketch">setParentSketch</a></li><li><a href="global.html#setParentSketchId">setParentSketchId</a></li><li><a href="global.html#setPreferredIndex">setPreferredIndex</a></li><li><a href="global.html#setPreviewText">setPreviewText</a></li><li><a href="global.html#setRedoCallback">setRedoCallback</a></li><li><a href="global.html#setRegisterCallbackThecallbackiscalledwhentheregisterbuttonispressed.">setRegisterCallback
The callback is called when the register button is pressed.</a></li><li><a href="global.html#setRemoveFunction">setRemoveFunction</a></li><li><a href="global.html#setSaveCallback">setSaveCallback</a></li><li><a href="global.html#setSketch">setSketch</a></li><li><a href="global.html#setSketchClickedFunction">setSketchClickedFunction</a></li><li><a href="global.html#setSketchManager">setSketchManager</a></li><li><a href="global.html#setSubmissionInformation">setSubmissionInformation</a></li><li><a href="global.html#setSubmitCallback">setSubmitCallback</a></li><li><a href="global.html#setUiLoaded">setUiLoaded</a></li><li><a href="global.html#setUndoCallback">setUndoCallback</a></li><li><a href="global.html#setupAttributes">setupAttributes</a></li><li><a href="global.html#setupCallbacksSetupsupthecallbackfortheregisterbuttonandthelostpasswordbutton.">setupCallbacks
Setups up the callback for the register button and the lost password button.</a></li><li><a href="global.html#setUpdateList">setUpdateList</a></li><li><a href="global.html#setUpdateTime">setUpdateTime</a></li><li><a href="global.html#setUpEditButtons">setUpEditButtons</a></li><li><a href="global.html#setWrapperFunction">setWrapperFunction</a></li><li><a href="global.html#showFormattedDate">showFormattedDate</a></li><li><a href="global.html#SketchSurfaceManager">SketchSurfaceManager</a></li><li><a href="global.html#speakText">speakText</a></li><li><a href="global.html#SubmissionPanel">SubmissionPanel</a></li><li><a href="global.html#TextBox">TextBox</a></li><li><a href="global.html#TimelineMarker">TimelineMarker</a></li><li><a href="global.html#toggleSelection">toggleSelection</a></li><li><a href="global.html#undoAction">undoAction</a></li><li><a href="global.html#updatePath">updatePath</a></li><li><a href="global.html#writeTextData">writeTextData</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-beta2</a> on Fri Mar 13 2015 04:13:07 GMT-0500 (CDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
