<html>
    <head>
        <meta charset="utf-8">
            <title>Command Methods test</title>
            <!-- test Library -->
            <link rel="import" href="/test/testUtilities/testUtilities.html">
                
                <link rel="import"
                    href="/test/testUtilities/fakePage/mockedObjects/mockedObjectsInclude.html">

                    <!-- file being tested. -->
                    <script src="/src/utilities/persistantData/specificManager/lectureDataManager.js" data-cover></script>
    </head>
    <body>
        <div id="qunit"></div>
        <div id="qunit-fixture"></div>
        
        <script>

asyncTest("create new lecture slide", function(assert) {
    expect(1);
    var dataManager = new SchoolDataManager(CourseSketch.connection.userId, CourseSketch.dataListener,
     CourseSketch.connection, CourseSketch.PROTOBUF_UTIL.getRequestClass(), dcodeIO.ByteBuffer);
    var course = CourseSketch.PROTOBUF_UTIL.SrlCourse();
    course.id = generateUUID();
    setTimeout(function() {
        dataManager.setCourse(course, function() {
        var lecture = CourseSketch.PROTOBUF_UTIL.Lecture();
        lecture.id = generateUUID();
        lecture.courseId = course.id;
        lecture.name= "I AM TEST";
        var slide = CourseSketch.PROTOBUF_UTIL.LectureSlide();
        slide.lectureId = lecture.id;
        slide.id = generateUUID();
        slide.unlocked = true;
        dataManager.insertLecture(lecture);
        dataManager.insertSlide(slide);
        assert.ok(true, "The lecture has been created and can be accessed from the course.");
        QUnit.start();
        }); //datamanager set course
    }, 100); //settime out
});// end test
        </script>
    </body>