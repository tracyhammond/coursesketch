<!DOCTYPE html>
<html class="ui-mobile"><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
	<base href="../../">
    <title>Welcome!</title>
    <link rel="stylesheet" href="css/jquery/jquery.mobile-1.0rc2.min.css">
   	<link rel="stylesheet" href="css/school/school_item.css">
  	<link rel="stylesheet" href="css/utility/columns.css">
    <script type="text/javascript" src="js/utils/loadingManager.js"></script>
    <script type="text/javascript" src="js/persistant_data/class_data.js"></script>
	<script type="text/javascript" src="js/school/school_item.js"></script>
    <link rel="icon" type="image/ico" href="images/CSpencil.ico">
    <script type="text/javascript">
	  		addLoadEvent(function () {
						var builders = new schoolItemBuilder();
						builders.setList(upcomming_assignments);
						builders.setTitle('SHOW ALL');
						builders.setWidth('large');
						builders.build('due_assignments_1');
					});
	  		function editSchoolItem(cardId, specificId) {
	  			var specifiedElement = document.getElementById(cardId).getElementsByClassName(specificId)[0];
	  			var input = false;
	  			var oldElement = false;
	  			if (specificId == "title") {
	  				oldElement = specifiedElement.getElementsByTagName("h3")[0];
	  				input = document.createElement("input");
	  				input.type = "text";
	  			} else if (specificId == "description") {
	  				oldElement = specifiedElement.getElementsByTagName("p")[0];
	  				input = document.createElement("textarea");
	  				input.cols = "45"; // needs to change based on size of object.
	  			} else if (specificId == "image") {
	  				input = document.createElement("input");
	  				input.type = "image";
	  				input.onblur = function(){endEditSchoolItem(cardId, specificId);};
	  				specifiedElement.appendChild(input);
	  				// special image dialog!
	  				return;
	  			}
	  			oldElement.style.display = "none";
  				input.className = "school_item_input";
  				input.onkeydown = function(){checkEnter(this)};
  				var value = cut(oldElement.innerHTML,'<span');
  				input.value = value[0];
  				input.onblur = function(){endEditSchoolItem(cardId, specificId, value[1]);};
  				specifiedElement.appendChild(input);
  				input.focus();
	  		}

	  		function endEditSchoolItem(cardId, specificId, extraHtml) {
	  			var specifiedElement = document.getElementById(cardId).getElementsByClassName(specificId)[0];
	  			var newElement;
	  			var oldElement;
	  			if (specificId == "title") {
	  				newElement = specifiedElement.getElementsByTagName("h3")[0];
	  				oldElement = specifiedElement.getElementsByTagName("input")[0];
	  			} else if (specificId == "description") {
	  				newElement = specifiedElement.getElementsByTagName("p")[0];
	  				oldElement = specifiedElement.getElementsByTagName("textarea")[0];
	  			} else if (specificId == "image") {
	  				specifiedElement.removeChild(oldElement);
	  				newElement.src = oldElement.value;
	  				return;
	  			}
	  			specifiedElement.removeChild(oldElement);
  				newElement.innerHTML = oldElement.value + extraHtml;
  				newElement.style.display = "block";
	  		}

	  		function cut(input, cutoff) {
	  			var index = input.indexOf(cutoff);
	  			result = [];
	  			result[0] = input.substring(0,index).trim();
	  			result[1] = input.substring(index).trim();
	  			return result;
	  		}

	  		function checkEnter(element) {
	  			if(event.which == 13 || event.keyCode == 13) {
	  				element.blur();
	  			}
	  		}
	</script>
	<style>
	/*
	h3 span {
		display:none;
	}
	h3:hover span {
		display:inline;
	}

	.editButton {
	    height:100%;
	    background-image:url(../../images/schoolItem/pencil_tilted.svg);
		background-repeat:no-repeat;
		background-position:right top;
	}
	*/
	</style>
</head>
<body>

<!-- Menu Bar -->
	<div id="text"></div>
    <!-- Center Section -->
    <div id="home">
    <div class="centre">
	    	<div class="col-group2">
	    		<div>
			    	<div id="class_list_1" class="school_div"><h1>SHOW ALL</h1>
					<ul class="school_list">
					<li>
						<div id="Assignment_Truss_1_ID" class="school_item ">
							<span class="school_item_state construction_tape"></span>
							<div class="text">
								<div class="title">
									<h3 class="name">Truss Assignment1
									<span class="editButton" onclick="editSchoolItem('Assignment_Truss_1_ID', 'title');">&nbsp;&nbsp;&nbsp;&nbsp;</span>
									</h3>
								</div>
								<h1 class="late">29-8-2013</h1>
								<h1 class="class"> <a href="PhysicsLink"> Phyics</a></h1>
								<div class = "description" ><p class="large">In this assignment we will draw a truss trussty truss. This truss trussty truss will allow us to save sience.
							<span class="editButton" onclick="editSchoolItem('Assignment_Truss_1_ID', 'description');">&nbsp;&nbsp;&nbsp;&nbsp;</span></p></div>
							</div>
							<img class = "editable image" src="images/test/truss_thumb.png" width="128" height="128" onclick = "editSchoolItem('Assignment_Truss_1_ID', 'image');">
						</div>
					</li>
					

					<li>	<div id="Assignment_Chemistry_1_ID" class="school_item ">		<div class="text">		<h3 class="name"> <a href="Chemistry_Link1"> Chemistry Assignment1</a></h3>		<h1 class="late">1-9-2013</h1>		<h1 class="class"> <a href="ChemistryLink"> Chemistry</a></h1>		<p class="large">n this assignment we will do a chemistry diagram.</p>	</div> <a href="Chemistry_Link1"> <img src="images/test/chemistry_thumb.png" width="128" height="128"></a></div></li><li>	<div id="Assignment_Truss_2_ID" class="school_item ">		<div class="text">		<h3 class="name"> <a href="Truss_Link2"> Truss Assignment2</a></h3>		<h1 class="late">29-8-2013</h1>		<h1 class="class"> <a href="PhysicsLink"> Phyics</a></h1>		<p class="large">In this second assignment we will make something cool. YAYYYYYY</p>	</div> <a href="Truss_Link2"> <img src="images/test/truss_thumb.png" width="128" height="128"></a></div></li></ul></div>
		    	</div>
		    	<div>
			    	<div id="due_assignments_1" class="school_div"><h1>SHOW ALL</h1></div>
			</div>
		</div>
    </div>
</div>